#!/usr/bin/expect -f
# Test: Open scratch buffer in zsh and quit immediately
set timeout 10

spawn zsh -f -c "source ./em.zsh && em"

expect {
    "shemacs" { puts "\nPASS: editor started" }
    timeout { puts "\nFAIL: editor did not start"; exit 1 }
}

# C-x C-c to quit
send "\x18\x03"

expect {
    eof { puts "PASS: editor exited cleanly" }
    timeout { puts "FAIL: editor did not exit"; exit 1 }
}

puts "TEST PASSED: zsh start and quit"
